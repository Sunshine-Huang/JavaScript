<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			input[type=text]{
				width:60px;
			}
			.error{
				border:1px solid #CC0000;
			}
			.yes{
				border:1px solid #00CC00;
			}
		</style>
	</head>
	<body>
		
		<form id="form">
			年度<input type="text" name="year" id="year">
			月份<input type="text" name="month" id="month">
			<input type="submit" value="查询"/>
		</form>
		
		<div id="result"></div>
		
		<script>
			
			var form = document.getElementById('form');
			var year = document.getElementById('year');
			var month = document.getElementById('month');
			var result = document.getElementById('result');
			
			form.onsubmit = function(){
				//进行验证表单
				return checkYear() && checkMonth();
				
			}
			
			//失去焦点
			year.onblur = function(){
				return checkYear();
			}
			month.onblur = function(){
				return checkMonth();
			}
			
			//验证年度
			function checkYear(){
				var reg =/^\d{4}$/;
				if(year.value.match(reg)==null){
					result.innerHTML = '年度有误';
					year.className='error';
					return false;
				}else{
					result.innerHTML = '年度无误';
					year.className='yes';
					return true;
				}
			}
			
			//验证月份
			/*
			?=匹配前面的字符零次或一次
			*/
			function checkMonth(){
				var reg =/^((0?[1-9])|(1[012]))$/;
				if(month.value.match(reg)==null){
					result.innerHTML = '月份有误';
					month.className='error';
					return false;
				}else{
					result.innerHTML = '月份无误';
					month.className='yes';
					return true;
				}
			}
			
		</script>
		
	</body>
</html>
