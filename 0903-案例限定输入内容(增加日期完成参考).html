<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			input[type=text]{
				width:60px;
			}
			.error{
				border:1px solid #CC0000;
			}
			.yes{
				border:1px solid #00CC00;
			}
		</style>
	</head>
	<body>
		
		<form id="form">
			年度<input type="text" name="year" id="year">
			月份<input type="text" name="month" id="month">
			日期<input type="text" name="day" id="day">
			<input type="submit" value="查询"/>
		</form>
		
		<div id="result"></div>
		
		<script>
			
			var form = document.getElementById('form');
			var year = document.getElementById('year');
			var month = document.getElementById('month');
			var day = document.getElementById('day');
			var result = document.getElementById('result');
			
			form.onsubmit = function(){
				//进行验证表单
				return checkYear() && checkMonth() && checkDay();
				
			}
			
			//失去焦点
			 year.onblur = function(){
			 	return checkYear();
			 }
			month.onblur = function(){
				return checkMonth();
			}
			
			day.onblur = function(){
				return checkDay();
			}
			
			//验证年度
			function checkYear(){
				var reg =/^\d{4}$/;
				if(year.value.match(reg)==null){
					result.innerHTML = '年度有误';
					year.className='error';
					return false;
				}else{
					result.innerHTML = '年度无误';
					year.className='yes';
					return true;
				}
			}
			
			//验证月份
			/*
			?=匹配前面的字符零次或一次
			*/
			function checkMonth(){
				var reg =/^((0?[1-9])|(1[012]))$/;
				if(month.value.match(reg)==null){
					result.innerHTML = '月份有误';
					month.className='error';
					return false;
				}else{
					result.innerHTML = '月份无误';
					month.className='yes';
					return true;
				}
			}
			
			//验证日期
			function checkDay(){
				//如何匹配日期1~31号,自行修改
				 var reg =/^((0?[1-9])|(1[0-9])|(2[0-9])|30|31)$/;
				//var reg =/^((0?[1-9])|(1[0-9])|(2[0-9])|(3[01])$/;
				
				if(day.value.match(reg)==null){
					result.innerHTML = '日期有误';
					day.className='error';
					return false;
				}else{
					result.innerHTML = '日期无误';
					day.className='yes';
					return true;
				}
			}
			
		</script>
		
	</body>
</html>
